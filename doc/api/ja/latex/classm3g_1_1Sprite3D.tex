\hypertarget{classm3g_1_1Sprite3D}{
\section{クラス Sprite3D}
\label{classm3g_1_1Sprite3D}\index{m3g::Sprite3D@{m3g::Sprite3D}}
}
{\tt \#include $<$Sprite3D.hpp$>$}

Sprite3Dに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5cm]{classm3g_1_1Sprite3D}
\end{center}
\end{figure}
\subsection*{構成}
\begin{CompactItemize}
\item 
struct \textbf{CropRect}
\end{CompactItemize}
\subsection*{Public メソッド}
\begin{CompactItemize}
\item 
\hyperlink{classm3g_1_1Sprite3D_9cb33fd453d441ed8e99b95f5e29df0c}{Sprite3D} (bool scaled, \hyperlink{classm3g_1_1Image2D}{Image2D} $\ast$image, \hyperlink{classm3g_1_1Appearance}{Appearance} $\ast$appearance)
\item 
virtual \hyperlink{classm3g_1_1Sprite3D_a57bd1e3141ba11c88ddec1e46c188d6}{$\sim$Sprite3D} ()
\item 
virtual \hyperlink{classm3g_1_1Sprite3D}{Sprite3D} $\ast$ \hyperlink{classm3g_1_1Sprite3D_0af34e87be803eb476f9e118d2363246}{duplicate} () const 
\item 
virtual void \hyperlink{classm3g_1_1Sprite3D_415c0b110f95410ded9b85e5d99a496b}{addAnimationTrack} (\hyperlink{classm3g_1_1AnimationTrack}{AnimationTrack} $\ast$animation\_\-track)
\item 
virtual int \hyperlink{classm3g_1_1Sprite3D_8aad1ceab4c2a03609c8a42324ce484d}{animate} (int world\_\-time)
\item 
\hyperlink{classm3g_1_1Appearance}{Appearance} $\ast$ \hyperlink{classm3g_1_1Sprite3D_0219cb20ddea978a5796b5b414d012d2}{getAppearance} () const 
\item 
int \hyperlink{classm3g_1_1Sprite3D_d6d9d6f23b7bb004c93642bcd081f4a3}{getCropHeight} () const 
\item 
int \hyperlink{classm3g_1_1Sprite3D_5c6515f6706675ef31ca5dfa0a03b953}{getCropWidth} () const 
\item 
int \hyperlink{classm3g_1_1Sprite3D_d0ba0211183decc8f0459ca598b12912}{getCropX} () const 
\item 
int \hyperlink{classm3g_1_1Sprite3D_9ef03b219415a1f08aef6745ad5d87d0}{getCropY} () const 
\item 
\hyperlink{classm3g_1_1Image2D}{Image2D} $\ast$ \hyperlink{classm3g_1_1Sprite3D_a8c0193b0e7d47d4b5c9f60df24c44f5}{getImage} () const 
\item 
bool \hyperlink{classm3g_1_1Sprite3D_b6ca418b9c39fed3206e02aed801ee3b}{intersect} (const \hyperlink{classm3g_1_1Vector}{Vector} \&org, const \hyperlink{classm3g_1_1Vector}{Vector} \&dir, const \hyperlink{classm3g_1_1Camera}{Camera} $\ast$cam, \hyperlink{classm3g_1_1RayIntersection}{RayIntersection} $\ast$ri) const 
\item 
bool \hyperlink{classm3g_1_1Sprite3D_8e3e7fa70e1d3f2342580991105779f5}{isScaled} () const 
\item 
void \hyperlink{classm3g_1_1Sprite3D_b9b44bad4241635062ed66437c9bae48}{setAppearance} (\hyperlink{classm3g_1_1Appearance}{Appearance} $\ast$appearance)
\item 
void \hyperlink{classm3g_1_1Sprite3D_35ca6d3ff64f2232a0f3a11bf4ab483e}{setCrop} (int crop\_\-x, int crop\_\-y, int width, int height)
\item 
void \hyperlink{classm3g_1_1Sprite3D_705b89b41cd1b38f664ed912be44baaa}{setImage} (\hyperlink{classm3g_1_1Image2D}{Image2D} $\ast$image)
\item 
virtual std::ostream \& \hyperlink{classm3g_1_1Sprite3D_6fea17fa1532df3794f8cb39cb4f911f}{print} (std::ostream \&out) const 
\item 
virtual void \hyperlink{classm3g_1_1Sprite3D_8babc8a79b78615da51161e94029eea9}{render} (\hyperlink{structm3g_1_1RenderState}{RenderState} \&state) const 
\end{CompactItemize}


\subsection{説明}
3Dの位置情報を持った2D画像を表すシーングラフノード. 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classm3g_1_1Sprite3D_9cb33fd453d441ed8e99b95f5e29df0c}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!Sprite3D@{Sprite3D}}
\index{Sprite3D@{Sprite3D}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{Sprite3D}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Sprite3D} (bool {\em scaled}, \/  {\bf Image2D} $\ast$ {\em image}, \/  {\bf Appearance} $\ast$ {\em appearance})}}
\label{classm3g_1_1Sprite3D_9cb33fd453d441ed8e99b95f5e29df0c}


指定されたスケーリングモード、画像、アピアランスを持ったSprite3Dの作成. \hypertarget{classm3g_1_1Sprite3D_a57bd1e3141ba11c88ddec1e46c188d6}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!$\sim$Sprite3D@{$\sim$Sprite3D}}
\index{$\sim$Sprite3D@{$\sim$Sprite3D}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{$\sim$Sprite3D}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf Sprite3D} ()\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classm3g_1_1Sprite3D_a57bd1e3141ba11c88ddec1e46c188d6}


このオブジェクトを削除するデストラクタ. 

\subsection{関数}
\hypertarget{classm3g_1_1Sprite3D_415c0b110f95410ded9b85e5d99a496b}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!addAnimationTrack@{addAnimationTrack}}
\index{addAnimationTrack@{addAnimationTrack}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{addAnimationTrack}]{\setlength{\rightskip}{0pt plus 5cm}void addAnimationTrack ({\bf AnimationTrack} $\ast$ {\em animation\_\-track})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classm3g_1_1Sprite3D_415c0b110f95410ded9b85e5d99a496b}


このObject3Dに指定されたアニメーショントラックを追加する。 既存のトラックの順番とインデックスは変更されるかもしれない. 

\hyperlink{classm3g_1_1Node_415c0b110f95410ded9b85e5d99a496b}{Node}を再定義しています。\hypertarget{classm3g_1_1Sprite3D_8aad1ceab4c2a03609c8a42324ce484d}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!animate@{animate}}
\index{animate@{animate}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{animate}]{\setlength{\rightskip}{0pt plus 5cm}int animate (int {\em world\_\-time})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classm3g_1_1Sprite3D_8aad1ceab4c2a03609c8a42324ce484d}


このObject3D自身とここから到達できるObject3Dのアニメーテッドプロパティを更新する. 

\hyperlink{classm3g_1_1Node_8aad1ceab4c2a03609c8a42324ce484d}{Node}を再定義しています。\hypertarget{classm3g_1_1Sprite3D_0af34e87be803eb476f9e118d2363246}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!duplicate@{duplicate}}
\index{duplicate@{duplicate}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{duplicate}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Sprite3D} $\ast$ duplicate () const\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classm3g_1_1Sprite3D_0af34e87be803eb476f9e118d2363246}


このオブジェクトの複製の作成. 

\hyperlink{classm3g_1_1Node_0b9f7531a4b56d34f47aeb1fff0d37e0}{Node}を再定義しています。\hypertarget{classm3g_1_1Sprite3D_0219cb20ddea978a5796b5b414d012d2}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!getAppearance@{getAppearance}}
\index{getAppearance@{getAppearance}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{getAppearance}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Appearance} $\ast$ getAppearance () const}}
\label{classm3g_1_1Sprite3D_0219cb20ddea978a5796b5b414d012d2}


このSprite3Dのカレントのアピアランスを取得. \hypertarget{classm3g_1_1Sprite3D_d6d9d6f23b7bb004c93642bcd081f4a3}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!getCropHeight@{getCropHeight}}
\index{getCropHeight@{getCropHeight}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{getCropHeight}]{\setlength{\rightskip}{0pt plus 5cm}int getCropHeight () const}}
\label{classm3g_1_1Sprite3D_d6d9d6f23b7bb004c93642bcd081f4a3}


ソース画像のカレントのクロップ領域の高さの取得. \hypertarget{classm3g_1_1Sprite3D_5c6515f6706675ef31ca5dfa0a03b953}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!getCropWidth@{getCropWidth}}
\index{getCropWidth@{getCropWidth}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{getCropWidth}]{\setlength{\rightskip}{0pt plus 5cm}int getCropWidth () const}}
\label{classm3g_1_1Sprite3D_5c6515f6706675ef31ca5dfa0a03b953}


ソース画像のカレントのクロップ領域の高さの取得. \hypertarget{classm3g_1_1Sprite3D_d0ba0211183decc8f0459ca598b12912}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!getCropX@{getCropX}}
\index{getCropX@{getCropX}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{getCropX}]{\setlength{\rightskip}{0pt plus 5cm}int getCropX () const}}
\label{classm3g_1_1Sprite3D_d0ba0211183decc8f0459ca598b12912}


クロップ矩形のソース画像の左上からのX方向の相対オフセット. \hypertarget{classm3g_1_1Sprite3D_9ef03b219415a1f08aef6745ad5d87d0}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!getCropY@{getCropY}}
\index{getCropY@{getCropY}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{getCropY}]{\setlength{\rightskip}{0pt plus 5cm}int getCropY () const}}
\label{classm3g_1_1Sprite3D_9ef03b219415a1f08aef6745ad5d87d0}


クロップ矩形のソース画像の左上からのY方向の相対オフセット. \hypertarget{classm3g_1_1Sprite3D_a8c0193b0e7d47d4b5c9f60df24c44f5}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!getImage@{getImage}}
\index{getImage@{getImage}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{getImage}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Image2D} $\ast$ getImage () const}}
\label{classm3g_1_1Sprite3D_a8c0193b0e7d47d4b5c9f60df24c44f5}


カレントのSprite3D画像の取得. \hypertarget{classm3g_1_1Sprite3D_b6ca418b9c39fed3206e02aed801ee3b}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!intersect@{intersect}}
\index{intersect@{intersect}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{intersect}]{\setlength{\rightskip}{0pt plus 5cm}bool intersect (const {\bf Vector} \& {\em org}, \/  const {\bf Vector} \& {\em dir}, \/  const {\bf Camera} $\ast$ {\em cam}, \/  {\bf RayIntersection} $\ast$ {\em ri}) const}}
\label{classm3g_1_1Sprite3D_b6ca418b9c39fed3206e02aed801ee3b}


座標は全てNDC座標で渡す.

注意1: org,dir,riはすべてNDC座標系 注意2: NDC座標系はOpenGLで一般的な右手座標系ではなく「左手座標系」 従って交差判定に渡す頂点は「時計回り」 v3 -- v1 $|$ ／ $|$ v2 -- v0 注意3: M3Gの仕様ではピック出来るのはscaledのみ。unscaledもピック出来るのは独自拡張 \hypertarget{classm3g_1_1Sprite3D_8e3e7fa70e1d3f2342580991105779f5}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!isScaled@{isScaled}}
\index{isScaled@{isScaled}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{isScaled}]{\setlength{\rightskip}{0pt plus 5cm}bool isScaled () const}}
\label{classm3g_1_1Sprite3D_8e3e7fa70e1d3f2342580991105779f5}


このSprite3Dの自動スケーリングの状態を返す. \hypertarget{classm3g_1_1Sprite3D_6fea17fa1532df3794f8cb39cb4f911f}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!print@{print}}
\index{print@{print}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}std::ostream \& print (std::ostream \& {\em out}) const\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classm3g_1_1Sprite3D_6fea17fa1532df3794f8cb39cb4f911f}


このSprite3Dクラスの情報を表示する。デバッグ用. 

\hyperlink{classm3g_1_1Node_6fea17fa1532df3794f8cb39cb4f911f}{Node}を再定義しています。\hypertarget{classm3g_1_1Sprite3D_8babc8a79b78615da51161e94029eea9}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!render@{render}}
\index{render@{render}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{render}]{\setlength{\rightskip}{0pt plus 5cm}void render ({\bf RenderState} \& {\em state}) const\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classm3g_1_1Sprite3D_8babc8a79b78615da51161e94029eea9}


このノードをレンダリングする内部使用の関数.

Note: \hyperlink{classm3g_1_1Sprite3D}{Sprite3D} should be rendered only at second rendering pass(pass=2). In other cases, do nothing. 

\hyperlink{classm3g_1_1Node_8babc8a79b78615da51161e94029eea9}{Node}を再定義しています。\hypertarget{classm3g_1_1Sprite3D_b9b44bad4241635062ed66437c9bae48}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!setAppearance@{setAppearance}}
\index{setAppearance@{setAppearance}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{setAppearance}]{\setlength{\rightskip}{0pt plus 5cm}void setAppearance ({\bf Appearance} $\ast$ {\em appearance})}}
\label{classm3g_1_1Sprite3D_b9b44bad4241635062ed66437c9bae48}


このSprite3Dのアピアランスの設定. \hypertarget{classm3g_1_1Sprite3D_35ca6d3ff64f2232a0f3a11bf4ab483e}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!setCrop@{setCrop}}
\index{setCrop@{setCrop}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{setCrop}]{\setlength{\rightskip}{0pt plus 5cm}void setCrop (int {\em crop\_\-x}, \/  int {\em crop\_\-y}, \/  int {\em width}, \/  int {\em height})}}
\label{classm3g_1_1Sprite3D_35ca6d3ff64f2232a0f3a11bf4ab483e}


ソース画像のクロッピング矩形の設定. \hypertarget{classm3g_1_1Sprite3D_705b89b41cd1b38f664ed912be44baaa}{
\index{m3g::Sprite3D@{m3g::Sprite3D}!setImage@{setImage}}
\index{setImage@{setImage}!m3g::Sprite3D@{m3g::Sprite3D}}
\subsubsection[{setImage}]{\setlength{\rightskip}{0pt plus 5cm}void setImage ({\bf Image2D} $\ast$ {\em image})}}
\label{classm3g_1_1Sprite3D_705b89b41cd1b38f664ed912be44baaa}


表示するスプライト画像の設定. 

このクラスの説明は次のファイルから生成されました:\begin{CompactItemize}
\item 
/work/workspace.desktop-m3g/src/Sprite3D.hpp\item 
/work/workspace.desktop-m3g/src/Sprite3D.cpp\end{CompactItemize}
